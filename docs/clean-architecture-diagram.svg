<svg width="1200" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .domain-circle { fill: #4CAF50; stroke: #2E7D32; stroke-width: 4; }
      .application-circle { fill: #2196F3; stroke: #1565C0; stroke-width: 4; }
      .infrastructure-circle { fill: #FFC107; stroke: #F57C00; stroke-width: 4; }
      .api-circle { fill: #FF5722; stroke: #D84315; stroke-width: 4; }
      .text-white { fill: white; font-family: Arial, sans-serif; font-weight: bold; }
      .text-black { fill: #000; font-family: Arial, sans-serif; font-weight: bold; }
      .text-small { font-size: 12px; font-weight: normal; }
      .text-medium { font-size: 14px; }
      .text-large { font-size: 18px; }
      .arrow { stroke: #1976D2; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1976D2" />
    </marker>
  </defs>
  
  <!-- T√≠tulo -->
  <text x="600" y="40" text-anchor="middle" class="text-black text-large" font-size="24px">
    Clean Architecture - Sistema de Loca√ß√£o de Ve√≠culos
  </text>
  
  <!-- C√≠rculo 4: API (mais externo) -->
  <circle cx="600" cy="600" r="520" class="api-circle" opacity="0.3"/>
  <text x="600" y="120" text-anchor="middle" class="text-white text-large">
    üåê API (Presentation Layer)
  </text>
  
  <!-- API Content -->
  <text x="200" y="180" class="text-white text-medium">Controllers:</text>
  <text x="200" y="205" class="text-white text-small">‚Ä¢ VehiclesController</text>
  <text x="200" y="225" class="text-white text-small">‚Ä¢ CustomersController</text>
  <text x="200" y="245" class="text-white text-small">‚Ä¢ RentalsController</text>
  <text x="200" y="265" class="text-white text-small">‚Ä¢ AuthController</text>
  
  <text x="950" y="180" class="text-white text-medium">Middleware:</text>
  <text x="950" y="205" class="text-white text-small">‚Ä¢ JWT Authentication</text>
  <text x="950" y="225" class="text-white text-small">‚Ä¢ Authorization (Roles)</text>
  <text x="950" y="245" class="text-white text-small">‚Ä¢ CORS Policy</text>
  <text x="950" y="265" class="text-white text-small">‚Ä¢ Swagger/OpenAPI</text>
  
  <!-- C√≠rculo 3: Infrastructure -->
  <circle cx="600" cy="600" r="400" class="infrastructure-circle" opacity="0.4"/>
  <text x="600" y="230" text-anchor="middle" class="text-black text-large">
    üîå INFRASTRUCTURE (Frameworks &amp; Drivers)
  </text>
  
  <!-- Infrastructure Content -->
  <text x="220" y="310" class="text-black text-medium">Persistence:</text>
  <text x="220" y="335" class="text-black text-small">‚Ä¢ RentalDbContext</text>
  <text x="220" y="355" class="text-black text-small">‚Ä¢ EF Core 8.0.8</text>
  <text x="220" y="375" class="text-black text-small">‚Ä¢ Migrations</text>
  
  <text x="900" y="310" class="text-black text-medium">Repositories:</text>
  <text x="900" y="335" class="text-black text-small">‚Ä¢ VehicleRepository</text>
  <text x="900" y="355" class="text-black text-small">‚Ä¢ CustomerRepository</text>
  <text x="900" y="375" class="text-black text-small">‚Ä¢ RentalRepository</text>
  <text x="900" y="395" class="text-black text-small">‚Ä¢ UnitOfWork</text>
  
  <text x="220" y="900" class="text-black text-medium">Services:</text>
  <text x="220" y="925" class="text-black text-small">‚Ä¢ AuthService (JWT)</text>
  <text x="220" y="945" class="text-black text-small">‚Ä¢ BCrypt Hashing</text>
  
  <text x="900" y="900" class="text-black text-medium">Messaging:</text>
  <text x="900" y="925" class="text-black text-small">‚Ä¢ KafkaProducer</text>
  <text x="900" y="945" class="text-black text-small">‚Ä¢ Event Publishing</text>
  
  <!-- C√≠rculo 2: Application -->
  <circle cx="600" cy="600" r="280" class="application-circle" opacity="0.5"/>
  <text x="600" y="350" text-anchor="middle" class="text-white text-large">
    üîß APPLICATION (Use Cases)
  </text>
  
  <!-- Application Content -->
  <text x="320" y="420" class="text-white text-medium">Commands (CQRS):</text>
  <text x="320" y="445" class="text-white text-small">‚Ä¢ CreateVehicleCommand</text>
  <text x="320" y="465" class="text-white text-small">‚Ä¢ CreateRentalCommand</text>
  <text x="320" y="485" class="text-white text-small">‚Ä¢ RenewRentalCommand</text>
  <text x="320" y="505" class="text-white text-small">‚Ä¢ CompleteRentalCommand</text>
  
  <text x="750" y="420" class="text-white text-medium">Queries (CQRS):</text>
  <text x="750" y="445" class="text-white text-small">‚Ä¢ GetAllVehiclesQuery</text>
  <text x="750" y="465" class="text-white text-small">‚Ä¢ GetAvailableVehiclesQuery</text>
  <text x="750" y="485" class="text-white text-small">‚Ä¢ GetActiveRentalsQuery</text>
  
  <text x="320" y="730" class="text-white text-medium">Handlers (MediatR):</text>
  <text x="320" y="755" class="text-white text-small">‚Ä¢ CreateVehicleCommandHandler</text>
  <text x="320" y="775" class="text-white text-small">‚Ä¢ CreateRentalCommandHandler</text>
  <text x="320" y="795" class="text-white text-small">‚Ä¢ GetAllVehiclesQueryHandler</text>
  
  <text x="750" y="730" class="text-white text-medium">Validators:</text>
  <text x="750" y="755" class="text-white text-small">‚Ä¢ FluentValidation</text>
  <text x="750" y="775" class="text-white text-small">‚Ä¢ CreateVehicleValidator</text>
  <text x="750" y="795" class="text-white text-small">‚Ä¢ CreateRentalValidator</text>
  
  <!-- C√≠rculo 1: Domain (n√∫cleo) -->
  <circle cx="600" cy="600" r="160" class="domain-circle" opacity="0.8"/>
  <text x="600" y="480" text-anchor="middle" class="text-white text-large">
    üéØ DOMAIN
  </text>
  <text x="600" y="505" text-anchor="middle" class="text-white text-medium">
    (Business Rules)
  </text>
  
  <!-- Domain Content -->
  <text x="600" y="560" text-anchor="middle" class="text-white text-medium">Entities:</text>
  <text x="600" y="585" text-anchor="middle" class="text-white text-small">Vehicle ‚Ä¢ Customer</text>
  <text x="600" y="605" text-anchor="middle" class="text-white text-small">Rental ‚Ä¢ RentalReturn</text>
  <text x="600" y="625" text-anchor="middle" class="text-white text-small">User ‚Ä¢ BaseEntity</text>
  
  <text x="600" y="660" text-anchor="middle" class="text-white text-medium">Enums:</text>
  <text x="600" y="685" text-anchor="middle" class="text-white text-small">VehicleStatus ‚Ä¢ VehicleType</text>
  <text x="600" y="705" text-anchor="middle" class="text-white text-small">RentalStatus ‚Ä¢ UserRole</text>
  
  <!-- Setas de Depend√™ncia -->
  <path d="M 600 140 L 600 200" class="arrow"/>
  <text x="620" y="175" class="text-black text-small">depende</text>
  
  <path d="M 600 260 L 600 320" class="arrow"/>
  <text x="620" y="295" class="text-black text-small">depende</text>
  
  <path d="M 600 380 L 600 440" class="arrow"/>
  <text x="620" y="415" class="text-black text-small">depende</text>
  
  <!-- External Services -->
  <g id="postgresql">
    <rect x="80" y="520" width="100" height="80" fill="#336791" stroke="#23527c" stroke-width="2" rx="5"/>
    <text x="130" y="550" text-anchor="middle" class="text-white text-small">üêò</text>
    <text x="130" y="575" text-anchor="middle" class="text-white text-small">PostgreSQL</text>
    <text x="130" y="595" text-anchor="middle" class="text-white text-small">Database</text>
  </g>
  
  <g id="kafka">
    <rect x="1020" y="520" width="100" height="80" fill="#231F20" stroke="#000" stroke-width="2" rx="5"/>
    <text x="1070" y="550" text-anchor="middle" class="text-white text-small">üì®</text>
    <text x="1070" y="575" text-anchor="middle" class="text-white text-small">Apache</text>
    <text x="1070" y="595" text-anchor="middle" class="text-white text-small">Kafka</text>
  </g>
  
  <!-- Setas para External Services -->
  <path d="M 180 560 L 220 560" class="arrow"/>
  <path d="M 1020 560 L 980 560" class="arrow"/>
  
  <!-- Legenda -->
  <g id="legend">
    <rect x="400" y="1050" width="400" height="130" fill="white" stroke="#333" stroke-width="2" rx="5"/>
    <text x="600" y="1075" text-anchor="middle" class="text-black text-medium">Regra de Depend√™ncia</text>
    
    <text x="420" y="1100" class="text-black text-small">‚úÖ Domain: Sem depend√™ncias (n√∫cleo puro)</text>
    <text x="420" y="1120" class="text-black text-small">‚úÖ Application: Depende apenas do Domain</text>
    <text x="420" y="1140" class="text-black text-small">‚úÖ Infrastructure: Implementa Domain e Application</text>
    <text x="420" y="1160" class="text-black text-small">‚úÖ API: Orquestra Application e Infrastructure</text>
  </g>
  
  <!-- Padr√µes Implementados -->
  <g id="patterns">
    <rect x="50" y="1050" width="320" height="130" fill="#E3F2FD" stroke="#1976D2" stroke-width="2" rx="5"/>
    <text x="210" y="1075" text-anchor="middle" class="text-black text-medium">Padr√µes Arquiteturais</text>
    
    <text x="70" y="1100" class="text-black text-small">‚Ä¢ Clean Architecture</text>
    <text x="70" y="1120" class="text-black text-small">‚Ä¢ CQRS (MediatR)</text>
    <text x="70" y="1140" class="text-black text-small">‚Ä¢ Repository Pattern</text>
    <text x="70" y="1160" class="text-black text-small">‚Ä¢ Unit of Work</text>
    
    <text x="220" y="1100" class="text-black text-small">‚Ä¢ Dependency Injection</text>
    <text x="220" y="1120" class="text-black text-small">‚Ä¢ JWT Authentication</text>
    <text x="220" y="1140" class="text-black text-small">‚Ä¢ Event-Driven (Kafka)</text>
    <text x="220" y="1160" class="text-black text-small">‚Ä¢ FluentValidation</text>
  </g>
  
  <!-- Tecnologias -->
  <g id="tech">
    <rect x="830" y="1050" width="320" height="130" fill="#FFF3E0" stroke="#F57C00" stroke-width="2" rx="5"/>
    <text x="990" y="1075" text-anchor="middle" class="text-black text-medium">Tecnologias Principais</text>
    
    <text x="850" y="1100" class="text-black text-small">‚Ä¢ .NET 8.0</text>
    <text x="850" y="1120" class="text-black text-small">‚Ä¢ ASP.NET Core Web API</text>
    <text x="850" y="1140" class="text-black text-small">‚Ä¢ Entity Framework Core 8</text>
    <text x="850" y="1160" class="text-black text-small">‚Ä¢ PostgreSQL 16</text>
    
    <text x="1000" y="1100" class="text-black text-small">‚Ä¢ MediatR 12.4.1</text>
    <text x="1000" y="1120" class="text-black text-small">‚Ä¢ Kafka 2.3.0</text>
    <text x="1000" y="1140" class="text-black text-small">‚Ä¢ xUnit + Moq</text>
    <text x="1000" y="1160" class="text-black text-small">‚Ä¢ Swagger/OpenAPI</text>
  </g>
</svg>